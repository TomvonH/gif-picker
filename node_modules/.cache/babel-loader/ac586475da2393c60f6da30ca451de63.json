{"remainingRequest":"/Users/tom/Documents/Jobs/WorkStateAssessment/search-page/node_modules/thread-loader/dist/cjs.js!/Users/tom/Documents/Jobs/WorkStateAssessment/search-page/node_modules/babel-loader/lib/index.js!/Users/tom/Documents/Jobs/WorkStateAssessment/search-page/node_modules/eslint-loader/index.js??ref--13-0!/Users/tom/Documents/Jobs/WorkStateAssessment/search-page/src/store/index.js","dependencies":[{"path":"/Users/tom/Documents/Jobs/WorkStateAssessment/search-page/src/store/index.js","mtime":1592929705736},{"path":"/Users/tom/Documents/Jobs/WorkStateAssessment/search-page/node_modules/cache-loader/dist/cjs.js","mtime":1592310891047},{"path":"/Users/tom/Documents/Jobs/WorkStateAssessment/search-page/node_modules/thread-loader/dist/cjs.js","mtime":1592310891051},{"path":"/Users/tom/Documents/Jobs/WorkStateAssessment/search-page/node_modules/babel-loader/lib/index.js","mtime":1592310891052},{"path":"/Users/tom/Documents/Jobs/WorkStateAssessment/search-page/node_modules/eslint-loader/index.js","mtime":1592310892730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvdG9tL0RvY3VtZW50cy9Kb2JzL1dvcmtTdGF0ZUFzc2Vzc21lbnQvc2VhcmNoLXBhZ2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBWdWV4IGZyb20gInZ1ZXgiOwppbXBvcnQgVnVleFBlcnNpc3RlbmNlIGZyb20gJ3Z1ZXgtcGVyc2lzdCc7CmltcG9ydCB7IGdldEFsbEdpZnMgfSBmcm9tICJAL2FwaS9naXBoeS5hcGkiOwpWdWUudXNlKFZ1ZXgpOwp2YXIgdnVleExvY2FsID0gbmV3IFZ1ZXhQZXJzaXN0ZW5jZSh7CiAgc3RvcmFnZTogd2luZG93LmxvY2FsU3RvcmFnZSwKICAvLyBPZiBjb3Vyc2Ugbm90IHRoZSBiZXN0IHBsYWNlIHRvIHN0b3JlIHlvdXIgZmF2b3JpdGVzIG9yIG90aGVyIHNlbnNpdGl2ZSBkYXRhLgogIHJlZHVjZXI6IGZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUpIHsKICAgIHJldHVybiB7CiAgICAgIGZhdm9yaXRlczogc3RhdGUuZmF2b3JpdGVzCiAgICB9OwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgZmF2b3JpdGVzOiBbXSwKICAgIGFsbEdpZnM6IFtdCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBhbGxHaWZzOiBmdW5jdGlvbiBhbGxHaWZzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hbGxHaWZzOwogICAgfSwKICAgIGFsbEZhdm9yaXRlczogZnVuY3Rpb24gYWxsRmF2b3JpdGVzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5mYXZvcml0ZXM7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGFkZEZhdm9yaXRlOiBmdW5jdGlvbiBhZGRGYXZvcml0ZShzdGF0ZSwgZmF2b3JpdGUpIHsKICAgICAgZmF2b3JpdGVbImNvbW1lbnRzIl0gPSBbXTsKICAgICAgZmF2b3JpdGVbImlzRmF2b3JpdGUiXSA9IHRydWU7CiAgICAgIHN0YXRlLmZhdm9yaXRlcy5wdXNoKGZhdm9yaXRlKTsKICAgICAgY29uc29sZS5sb2coImFkZCBGYXY6ICIsIHN0YXRlLmZhdm9yaXRlcyk7CiAgICB9LAogICAgcmVtb3ZlRmF2b3JpdGU6IGZ1bmN0aW9uIHJlbW92ZUZhdm9yaXRlKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBpID0gc3RhdGUuZmF2b3JpdGVzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlkOwogICAgICB9KS5pbmRleE9mKHBheWxvYWQuaWQpOwogICAgICBwYXlsb2FkLmZhdm9yaXRlWyJpc0Zhdm9yaXRlIl0gPSBmYWxzZTsKICAgICAgc3RhdGUuZmF2b3JpdGVzLnNwbGljZShpLCAxKTsKICAgIH0sCiAgICBzZXRHaWZzOiBmdW5jdGlvbiBzZXRHaWZzKHN0YXRlLCBnaWZzKSB7CiAgICAgIGdpZnMuZm9yRWFjaChmdW5jdGlvbiAoZ2lmKSB7CiAgICAgICAgZ2lmWyJjb21tZW50cyJdID0gW107CiAgICAgICAgZ2lmWyJpc0Zhdm9yaXRlIl0gPSBmYWxzZTsKICAgICAgICBzdGF0ZS5mYXZvcml0ZXMuZm9yRWFjaChmdW5jdGlvbiAoZmF2b3JpdGUpIHsKICAgICAgICAgIGlmIChnaWYuaWQgPT09IGZhdm9yaXRlLmlkKSB7CiAgICAgICAgICAgIGdpZlsiaXNGYXZvcml0ZSJdID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHN0YXRlLmFsbEdpZnMgPSBnaWZzOwogICAgfSwKICAgIHJlc2V0R2lmczogZnVuY3Rpb24gcmVzZXRHaWZzKHN0YXRlKSB7CiAgICAgIHN0YXRlLmFsbEdpZnMgPSBbXTsKICAgICAgY29uc29sZS5sb2coIkFMTF9HSUZTOiAiLCBzdGF0ZS5hbGxHaWZzKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIHJlc2V0R2lmczogZnVuY3Rpb24gcmVzZXRHaWZzKGNvbnRleHQpIHsKICAgICAgY29udGV4dC5jb21taXQoInJlc2V0R2lmcyIpOwogICAgfSwKICAgIGZldGNoR2lmczogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2ZldGNoR2lmcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShjb250ZXh0LCBwYXlsb2FkKSB7CiAgICAgICAgdmFyIHZpc2libGVJdGVtc1BlclBhZ2VDb3VudCwgb2Zmc2V0LCByZXNwb25zZSwgZ2lmczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB2aXNpYmxlSXRlbXNQZXJQYWdlQ291bnQgPSAyNTsKICAgICAgICAgICAgICAgIG9mZnNldCA9IChwYXlsb2FkLmN1cnJlbnRQYWdlIC0gMSkgKiB2aXNpYmxlSXRlbXNQZXJQYWdlQ291bnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldEFsbEdpZnMocGF5bG9hZC5zZWFyY2hUZXJtLCB2aXNpYmxlSXRlbXNQZXJQYWdlQ291bnQsIG9mZnNldCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGdpZnMgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgic2V0R2lmcyIsIGdpZnMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syLCAxMF1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZmV0Y2hHaWZzKF94LCBfeDIpIHsKICAgICAgICByZXR1cm4gX2ZldGNoR2lmcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZmV0Y2hHaWZzOwogICAgfSgpCiAgfSwKICBtb2R1bGVzOiB7fSwKICBwbHVnaW5zOiBbdnVleExvY2FsLnBsdWdpbl0KfSk7"},{"version":3,"sources":["/Users/tom/Documents/Jobs/WorkStateAssessment/search-page/src/store/index.js"],"names":["Vue","Vuex","VuexPersistence","getAllGifs","use","vuexLocal","storage","window","localStorage","reducer","state","favorites","Store","allGifs","getters","allFavorites","mutations","addFavorite","favorite","push","console","log","removeFavorite","payload","i","map","item","id","indexOf","splice","setGifs","gifs","forEach","gif","resetGifs","actions","context","commit","fetchGifs","visibleItemsPerPageCount","offset","currentPage","searchTerm","response","data","modules","plugins","plugin"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport VuexPersistence from 'vuex-persist'\n\nimport { getAllGifs } from \"@/api/giphy.api\";\n\nVue.use(Vuex);\n\nconst vuexLocal = new VuexPersistence({\n  storage: window.localStorage,\n\n  // Of course not the best place to store your favorites or other sensitive data.\n  reducer: state => ({\n    favorites: state.favorites,\n  })\n})\n\nexport default new Vuex.Store({\n  state: {\n    favorites: [],\n    allGifs: []\n  },\n  getters: {\n    allGifs: state => {\n      return state.allGifs;\n    },\n    allFavorites: state => {\n      return state.favorites;\n    }\n  },\n  mutations: {\n    addFavorite: (state, favorite) => {\n      favorite[\"comments\"] = [];\n      favorite[\"isFavorite\"] = true;\n      state.favorites.push(favorite);\n      console.log(\"add Fav: \", state.favorites)\n    },\n    removeFavorite: (state, payload) => {\n      let i = state.favorites.map(item => item.id).indexOf(payload.id)\n\n      payload.favorite[\"isFavorite\"] = false;\n      state.favorites.splice(i, 1)\n    },\n    setGifs: (state, gifs) => {\n      gifs.forEach(gif => {\n        gif[\"comments\"] = [];\n        gif[\"isFavorite\"] = false;\n        state.favorites.forEach(favorite => {\n          if (gif.id === favorite.id) {\n            gif[\"isFavorite\"] = true;\n          }\n        });\n      });\n      state.allGifs = gifs;\n    },\n    resetGifs: (state) => {\n      state.allGifs = []\n      console.log(\"ALL_GIFS: \", state.allGifs)\n    }\n\n\n  },\n  actions: {\n    resetGifs: (context) => {\n      context.commit(\"resetGifs\");\n    },\n    fetchGifs: async (context, payload) => {\n      const visibleItemsPerPageCount = 25;\n      let offset = (payload.currentPage - 1) * visibleItemsPerPageCount;\n\n      try {\n        const response = await getAllGifs(\n          payload.searchTerm,\n          visibleItemsPerPageCount,\n          offset\n        );\n        let gifs = response.data.data;\n        context.commit(\"setGifs\", gifs);\n      } catch (error) {\n        // handle the error here\n      }\n    },\n  },\n  modules: {},\n  plugins: [vuexLocal.plugin]\n\n});\n"]}]}