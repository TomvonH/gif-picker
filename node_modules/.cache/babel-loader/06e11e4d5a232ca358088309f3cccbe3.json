{"remainingRequest":"/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/node_modules/thread-loader/dist/cjs.js!/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/node_modules/babel-loader/lib/index.js!/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/node_modules/eslint-loader/index.js??ref--13-0!/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/src/store/index.js","dependencies":[{"path":"/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/src/store/index.js","mtime":1592929705736},{"path":"/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/node_modules/cache-loader/dist/cjs.js","mtime":1592310891047},{"path":"/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/node_modules/thread-loader/dist/cjs.js","mtime":1592310891051},{"path":"/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/node_modules/babel-loader/lib/index.js","mtime":1592310891052},{"path":"/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/node_modules/eslint-loader/index.js","mtime":1592310892730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvdG9tL0RvY3VtZW50cy9Kb2JzL1dvcmtTdGF0ZUFzc2Vzc21lbnQvZ2lmLXBpY2tlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZXggZnJvbSAidnVleCI7CmltcG9ydCBWdWV4UGVyc2lzdGVuY2UgZnJvbSAndnVleC1wZXJzaXN0JzsKaW1wb3J0IHsgZ2V0QWxsR2lmcyB9IGZyb20gIkAvYXBpL2dpcGh5LmFwaSI7ClZ1ZS51c2UoVnVleCk7CnZhciB2dWV4TG9jYWwgPSBuZXcgVnVleFBlcnNpc3RlbmNlKHsKICBzdG9yYWdlOiB3aW5kb3cubG9jYWxTdG9yYWdlLAogIC8vIE9mIGNvdXJzZSBub3QgdGhlIGJlc3QgcGxhY2UgdG8gc3RvcmUgeW91ciBmYXZvcml0ZXMgb3Igb3RoZXIgc2Vuc2l0aXZlIGRhdGEuCiAgcmVkdWNlcjogZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSkgewogICAgcmV0dXJuIHsKICAgICAgZmF2b3JpdGVzOiBzdGF0ZS5mYXZvcml0ZXMKICAgIH07CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBmYXZvcml0ZXM6IFtdLAogICAgYWxsR2lmczogW10KICB9LAogIGdldHRlcnM6IHsKICAgIGFsbEdpZnM6IGZ1bmN0aW9uIGFsbEdpZnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmFsbEdpZnM7CiAgICB9LAogICAgYWxsRmF2b3JpdGVzOiBmdW5jdGlvbiBhbGxGYXZvcml0ZXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmZhdm9yaXRlczsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgYWRkRmF2b3JpdGU6IGZ1bmN0aW9uIGFkZEZhdm9yaXRlKHN0YXRlLCBmYXZvcml0ZSkgewogICAgICBmYXZvcml0ZVsiY29tbWVudHMiXSA9IFtdOwogICAgICBmYXZvcml0ZVsiaXNGYXZvcml0ZSJdID0gdHJ1ZTsKICAgICAgc3RhdGUuZmF2b3JpdGVzLnB1c2goZmF2b3JpdGUpOwogICAgICBjb25zb2xlLmxvZygiYWRkIEZhdjogIiwgc3RhdGUuZmF2b3JpdGVzKTsKICAgIH0sCiAgICByZW1vdmVGYXZvcml0ZTogZnVuY3Rpb24gcmVtb3ZlRmF2b3JpdGUoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIGkgPSBzdGF0ZS5mYXZvcml0ZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQ7CiAgICAgIH0pLmluZGV4T2YocGF5bG9hZC5pZCk7CiAgICAgIHBheWxvYWQuZmF2b3JpdGVbImlzRmF2b3JpdGUiXSA9IGZhbHNlOwogICAgICBzdGF0ZS5mYXZvcml0ZXMuc3BsaWNlKGksIDEpOwogICAgfSwKICAgIHNldEdpZnM6IGZ1bmN0aW9uIHNldEdpZnMoc3RhdGUsIGdpZnMpIHsKICAgICAgZ2lmcy5mb3JFYWNoKGZ1bmN0aW9uIChnaWYpIHsKICAgICAgICBnaWZbImNvbW1lbnRzIl0gPSBbXTsKICAgICAgICBnaWZbImlzRmF2b3JpdGUiXSA9IGZhbHNlOwogICAgICAgIHN0YXRlLmZhdm9yaXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChmYXZvcml0ZSkgewogICAgICAgICAgaWYgKGdpZi5pZCA9PT0gZmF2b3JpdGUuaWQpIHsKICAgICAgICAgICAgZ2lmWyJpc0Zhdm9yaXRlIl0gPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgc3RhdGUuYWxsR2lmcyA9IGdpZnM7CiAgICB9LAogICAgcmVzZXRHaWZzOiBmdW5jdGlvbiByZXNldEdpZnMoc3RhdGUpIHsKICAgICAgc3RhdGUuYWxsR2lmcyA9IFtdOwogICAgICBjb25zb2xlLmxvZygiQUxMX0dJRlM6ICIsIHN0YXRlLmFsbEdpZnMpOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgcmVzZXRHaWZzOiBmdW5jdGlvbiByZXNldEdpZnMoY29udGV4dCkgewogICAgICBjb250ZXh0LmNvbW1pdCgicmVzZXRHaWZzIik7CiAgICB9LAogICAgZmV0Y2hHaWZzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZmV0Y2hHaWZzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGNvbnRleHQsIHBheWxvYWQpIHsKICAgICAgICB2YXIgdmlzaWJsZUl0ZW1zUGVyUGFnZUNvdW50LCBvZmZzZXQsIHJlc3BvbnNlLCBnaWZzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHZpc2libGVJdGVtc1BlclBhZ2VDb3VudCA9IDI1OwogICAgICAgICAgICAgICAgb2Zmc2V0ID0gKHBheWxvYWQuY3VycmVudFBhZ2UgLSAxKSAqIHZpc2libGVJdGVtc1BlclBhZ2VDb3VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QWxsR2lmcyhwYXlsb2FkLnNlYXJjaFRlcm0sIHZpc2libGVJdGVtc1BlclBhZ2VDb3VudCwgb2Zmc2V0KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZ2lmcyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJzZXRHaWZzIiwgZ2lmcyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzIsIDEwXV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBmZXRjaEdpZnMoX3gsIF94MikgewogICAgICAgIHJldHVybiBfZmV0Y2hHaWZzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmZXRjaEdpZnM7CiAgICB9KCkKICB9LAogIG1vZHVsZXM6IHt9LAogIHBsdWdpbnM6IFt2dWV4TG9jYWwucGx1Z2luXQp9KTs="},{"version":3,"sources":["/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/src/store/index.js"],"names":["Vue","Vuex","VuexPersistence","getAllGifs","use","vuexLocal","storage","window","localStorage","reducer","state","favorites","Store","allGifs","getters","allFavorites","mutations","addFavorite","favorite","push","console","log","removeFavorite","payload","i","map","item","id","indexOf","splice","setGifs","gifs","forEach","gif","resetGifs","actions","context","commit","fetchGifs","visibleItemsPerPageCount","offset","currentPage","searchTerm","response","data","modules","plugins","plugin"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport VuexPersistence from 'vuex-persist'\n\nimport { getAllGifs } from \"@/api/giphy.api\";\n\nVue.use(Vuex);\n\nconst vuexLocal = new VuexPersistence({\n  storage: window.localStorage,\n\n  // Of course not the best place to store your favorites or other sensitive data.\n  reducer: state => ({\n    favorites: state.favorites,\n  })\n})\n\nexport default new Vuex.Store({\n  state: {\n    favorites: [],\n    allGifs: []\n  },\n  getters: {\n    allGifs: state => {\n      return state.allGifs;\n    },\n    allFavorites: state => {\n      return state.favorites;\n    }\n  },\n  mutations: {\n    addFavorite: (state, favorite) => {\n      favorite[\"comments\"] = [];\n      favorite[\"isFavorite\"] = true;\n      state.favorites.push(favorite);\n      console.log(\"add Fav: \", state.favorites)\n    },\n    removeFavorite: (state, payload) => {\n      let i = state.favorites.map(item => item.id).indexOf(payload.id)\n\n      payload.favorite[\"isFavorite\"] = false;\n      state.favorites.splice(i, 1)\n    },\n    setGifs: (state, gifs) => {\n      gifs.forEach(gif => {\n        gif[\"comments\"] = [];\n        gif[\"isFavorite\"] = false;\n        state.favorites.forEach(favorite => {\n          if (gif.id === favorite.id) {\n            gif[\"isFavorite\"] = true;\n          }\n        });\n      });\n      state.allGifs = gifs;\n    },\n    resetGifs: (state) => {\n      state.allGifs = []\n      console.log(\"ALL_GIFS: \", state.allGifs)\n    }\n\n\n  },\n  actions: {\n    resetGifs: (context) => {\n      context.commit(\"resetGifs\");\n    },\n    fetchGifs: async (context, payload) => {\n      const visibleItemsPerPageCount = 25;\n      let offset = (payload.currentPage - 1) * visibleItemsPerPageCount;\n\n      try {\n        const response = await getAllGifs(\n          payload.searchTerm,\n          visibleItemsPerPageCount,\n          offset\n        );\n        let gifs = response.data.data;\n        context.commit(\"setGifs\", gifs);\n      } catch (error) {\n        // handle the error here\n      }\n    },\n  },\n  modules: {},\n  plugins: [vuexLocal.plugin]\n\n});\n"]}]}