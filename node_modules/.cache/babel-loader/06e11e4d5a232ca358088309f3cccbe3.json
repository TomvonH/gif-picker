{"remainingRequest":"/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/node_modules/thread-loader/dist/cjs.js!/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/node_modules/babel-loader/lib/index.js!/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/node_modules/eslint-loader/index.js??ref--13-0!/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/src/store/index.js","dependencies":[{"path":"/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/src/store/index.js","mtime":1592994825148},{"path":"/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/node_modules/cache-loader/dist/cjs.js","mtime":1592310891047},{"path":"/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/node_modules/thread-loader/dist/cjs.js","mtime":1592310891051},{"path":"/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/node_modules/babel-loader/lib/index.js","mtime":1592310891052},{"path":"/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/node_modules/eslint-loader/index.js","mtime":1592310892730}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvdG9tL0RvY3VtZW50cy9Kb2JzL1dvcmtTdGF0ZUFzc2Vzc21lbnQvZ2lmLXBpY2tlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZXggZnJvbSAidnVleCI7CmltcG9ydCBWdWV4UGVyc2lzdGVuY2UgZnJvbSAndnVleC1wZXJzaXN0JzsKaW1wb3J0IHsgZ2V0QWxsR2lmcyB9IGZyb20gIkAvYXBpL2dpcGh5LmFwaSI7ClZ1ZS51c2UoVnVleCk7CnZhciB2dWV4TG9jYWwgPSBuZXcgVnVleFBlcnNpc3RlbmNlKHsKICBzdG9yYWdlOiB3aW5kb3cubG9jYWxTdG9yYWdlLAogIC8vIE9mIGNvdXJzZSBub3QgdGhlIGJlc3QgcGxhY2UgdG8gc3RvcmUgeW91ciBmYXZvcml0ZXMgb3Igb3RoZXIgc2Vuc2l0aXZlIGRhdGEuCiAgcmVkdWNlcjogZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSkgewogICAgcmV0dXJuIHsKICAgICAgZmF2b3JpdGVzOiBzdGF0ZS5mYXZvcml0ZXMKICAgIH07CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBmYXZvcml0ZXM6IFtdLAogICAgYWxsR2lmczogW10KICB9LAogIGdldHRlcnM6IHsKICAgIGFsbEdpZnM6IGZ1bmN0aW9uIGFsbEdpZnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmFsbEdpZnM7CiAgICB9LAogICAgYWxsRmF2b3JpdGVzOiBmdW5jdGlvbiBhbGxGYXZvcml0ZXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmZhdm9yaXRlczsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgYWRkRmF2b3JpdGU6IGZ1bmN0aW9uIGFkZEZhdm9yaXRlKHN0YXRlLCBmYXZvcml0ZSkgewogICAgICBmYXZvcml0ZVsiY29tbWVudHMiXSA9IFtdOwogICAgICBmYXZvcml0ZVsiaXNGYXZvcml0ZSJdID0gdHJ1ZTsKICAgICAgc3RhdGUuZmF2b3JpdGVzLnB1c2goZmF2b3JpdGUpOwogICAgfSwKICAgIHJlbW92ZUZhdm9yaXRlOiBmdW5jdGlvbiByZW1vdmVGYXZvcml0ZShzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgaSA9IHN0YXRlLmZhdm9yaXRlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZDsKICAgICAgfSkuaW5kZXhPZihwYXlsb2FkLmlkKTsKICAgICAgcGF5bG9hZC5mYXZvcml0ZVsiaXNGYXZvcml0ZSJdID0gZmFsc2U7CiAgICAgIHN0YXRlLmZhdm9yaXRlcy5zcGxpY2UoaSwgMSk7CiAgICB9LAogICAgc2V0R2lmczogZnVuY3Rpb24gc2V0R2lmcyhzdGF0ZSwgZ2lmcykgewogICAgICBnaWZzLmZvckVhY2goZnVuY3Rpb24gKGdpZikgewogICAgICAgIGdpZlsiY29tbWVudHMiXSA9IFtdOwogICAgICAgIGdpZlsiaXNGYXZvcml0ZSJdID0gZmFsc2U7CiAgICAgICAgc3RhdGUuZmF2b3JpdGVzLmZvckVhY2goZnVuY3Rpb24gKGZhdm9yaXRlKSB7CiAgICAgICAgICBpZiAoZ2lmLmlkID09PSBmYXZvcml0ZS5pZCkgewogICAgICAgICAgICBnaWZbImlzRmF2b3JpdGUiXSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBzdGF0ZS5hbGxHaWZzID0gZ2lmczsKICAgIH0sCiAgICByZXNldEdpZnM6IGZ1bmN0aW9uIHJlc2V0R2lmcyhzdGF0ZSkgewogICAgICBzdGF0ZS5hbGxHaWZzID0gW107CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICByZXNldEdpZnM6IGZ1bmN0aW9uIHJlc2V0R2lmcyhjb250ZXh0KSB7CiAgICAgIGNvbnRleHQuY29tbWl0KCJyZXNldEdpZnMiKTsKICAgIH0sCiAgICBmZXRjaEdpZnM6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9mZXRjaEdpZnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoY29udGV4dCwgcGF5bG9hZCkgewogICAgICAgIHZhciB2aXNpYmxlSXRlbXNQZXJQYWdlQ291bnQsIG9mZnNldCwgcmVzcG9uc2UsIGdpZnM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdmlzaWJsZUl0ZW1zUGVyUGFnZUNvdW50ID0gMjU7CiAgICAgICAgICAgICAgICBvZmZzZXQgPSAocGF5bG9hZC5jdXJyZW50UGFnZSAtIDEpICogdmlzaWJsZUl0ZW1zUGVyUGFnZUNvdW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRBbGxHaWZzKHBheWxvYWQuc2VhcmNoVGVybSwgdmlzaWJsZUl0ZW1zUGVyUGFnZUNvdW50LCBvZmZzZXQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBnaWZzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoInNldEdpZnMiLCBnaWZzKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEwOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgMTBdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGZldGNoR2lmcyhfeCwgX3gyKSB7CiAgICAgICAgcmV0dXJuIF9mZXRjaEdpZnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZldGNoR2lmczsKICAgIH0oKQogIH0sCiAgbW9kdWxlczoge30sCiAgcGx1Z2luczogW3Z1ZXhMb2NhbC5wbHVnaW5dCn0pOw=="},{"version":3,"sources":["/Users/tom/Documents/Jobs/WorkStateAssessment/gif-picker/src/store/index.js"],"names":["Vue","Vuex","VuexPersistence","getAllGifs","use","vuexLocal","storage","window","localStorage","reducer","state","favorites","Store","allGifs","getters","allFavorites","mutations","addFavorite","favorite","push","removeFavorite","payload","i","map","item","id","indexOf","splice","setGifs","gifs","forEach","gif","resetGifs","actions","context","commit","fetchGifs","visibleItemsPerPageCount","offset","currentPage","searchTerm","response","data","modules","plugins","plugin"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport VuexPersistence from 'vuex-persist'\n\nimport { getAllGifs } from \"@/api/giphy.api\";\n\nVue.use(Vuex);\n\nconst vuexLocal = new VuexPersistence({\n  storage: window.localStorage,\n\n  // Of course not the best place to store your favorites or other sensitive data.\n  reducer: state => ({\n    favorites: state.favorites,\n  })\n})\n\nexport default new Vuex.Store({\n  state: {\n    favorites: [],\n    allGifs: []\n  },\n  getters: {\n    allGifs: state => {\n      return state.allGifs;\n    },\n    allFavorites: state => {\n      return state.favorites;\n    }\n  },\n  mutations: {\n    addFavorite: (state, favorite) => {\n      favorite[\"comments\"] = [];\n      favorite[\"isFavorite\"] = true;\n      state.favorites.push(favorite);\n    },\n    removeFavorite: (state, payload) => {\n      let i = state.favorites.map(item => item.id).indexOf(payload.id)\n\n      payload.favorite[\"isFavorite\"] = false;\n      state.favorites.splice(i, 1)\n    },\n    setGifs: (state, gifs) => {\n      gifs.forEach(gif => {\n        gif[\"comments\"] = [];\n        gif[\"isFavorite\"] = false;\n        state.favorites.forEach(favorite => {\n          if (gif.id === favorite.id) {\n            gif[\"isFavorite\"] = true;\n          }\n        });\n      });\n      state.allGifs = gifs;\n    },\n    resetGifs: (state) => {\n      state.allGifs = []\n    }\n\n\n  },\n  actions: {\n    resetGifs: (context) => {\n      context.commit(\"resetGifs\");\n    },\n    fetchGifs: async (context, payload) => {\n      const visibleItemsPerPageCount = 25;\n      let offset = (payload.currentPage - 1) * visibleItemsPerPageCount;\n\n      try {\n        const response = await getAllGifs(\n          payload.searchTerm,\n          visibleItemsPerPageCount,\n          offset\n        );\n        let gifs = response.data.data;\n        context.commit(\"setGifs\", gifs);\n      } catch (error) {\n        // handle the error here\n      }\n    },\n  },\n  modules: {},\n  plugins: [vuexLocal.plugin]\n\n});\n"]}]}